<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>CDN Table</title>
      <!--<link rel="stylesheet" href="css/status.css">-->
    <link href="{{ url_for('static', filename='css/status.css') }}" rel="stylesheet">

  
</head>

<body>

  <html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Table Style</title>
	<meta name="viewport" content="initial-scale=1.0; maximum-scale=1.0; width=device-width;">
</head>

<body>
<div class="text">
	{% for un in uname %}
        <text>Now you've logged in as: {{ un }}</text>
      {% endfor %}
</div>
<div class="table-title">
	<h3>CDN Table</h3>
</div>

<table class="table-fill">
	<thead>
		<tr>
			<th class="text-left">originIP</th>
			<th class="text-left">cacheIP</th>
			<th class="text-left">remark</th>
			<th class="text-left">CPU-usage</th>
			<th class="text-left">storage-usage</th>
		</tr>
	</thead>
	<tbody  >
    {% for join in joins %}
	{% for instance in instances %}
    	<tr>
            <!--some logic should be revised here, join and instance should be one to many-->
            <td class="text-left">{{ join.originip }}</td>
    		<td class="text-left">{{ instance.cacheip }}</td>
    		<td class="text-left">{{ instance.cachename }}</td>
			<td class="text-left">{{ instance.cpu }}</td>
			<td class="text-left">{{ instance.storage }}</td>
        </tr>>
  	{% endfor %}
    {% endfor %}

	</tbody>

    <!--starts with JS script-->
    <script>
        function createTable(id)
        {
            var originip = document.getElementById("originip").value;
            var cacheip = document.getElementById("cacheip").value;
            var remark = document.getElementById("remark").value;
//            $.post("/status",{"originip":originip})
//            $.post("/status",{"cacheip":cacheip})
//            $.post("/status",{"remark":remark})
            location.reload();
        }
    </script>

</table>

<!--<button onclick="changetext(this)">Add Instance</button><br/>-->

<form action="/status" method="POST">
originip:<input type="text" id="originip" name="originip"/>
cacheip:<input type="text" id="cacheip" name="cacheip"/>
remark:<input type="text" id="remark" name="remark"/>
<input type="submit" value="Add Instance"  onclick="createTable(this)"/><br/>
</form>>

</body>

</body>


</html>
